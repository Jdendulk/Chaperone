<div class="container chat" id="chat" data-controller="meeting-chat" data-meeting-chat-meeting-id-value="<%= @meeting.id %>">
  <h1>Meeting with <%= current_user.email %></h1>

  <div class="messages" data-meeting-chat-target="messages">
    <%= @meeting.messages.count %>
    <% @meeting.messages.each do |message| %>
      <%= render 'messages/message', message: message %>
    <% end %>
  </div>

  <%= simple_form_for [ @meeting, Message.new ], remote: true, html: { data: { 'meeting-chat-target': "form" } } do |form| %>
    <div class="form-group">
      <%= form.text_area :content, rows: 3, class: "form-control", data: { 'meeting-chat-target': "input" }, placeholder: "Type a message..." %>
    </div>
    <div class="form-group">
      <%= form.submit "Send", class: "btn btn-primary", data: { action: "meeting-chat#submit" } %>
    </div>
  <% end %>
</div>

<div class="spacer"></div>
